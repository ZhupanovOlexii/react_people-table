(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{26:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=a(6),s=a(1),u=function(){return r.a.createElement("h2",null,"Home Page")},m=a(14),i=a(23),p=a.n(i),f=a(10),h=a.n(f),d=a(15),b=a(24),E=function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{id:t+1,father:e.fatherName?e.fatherName:"---",mother:e.motherName?e.motherName:"---",age:e.died-e.born,century:Math.ceil(e.died/100)})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=a(11),v=a.n(g),O=function(e){var t=e.people,a=Object(s.g)(),n=Object(s.i)().personSlug,c=Object(s.h)();return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("tr",{className:v()({person:e,person__active:e.slug===n}),key:e.id,onClick:function(){return t=e.slug,void a.push({pathname:"/people/".concat(t),search:c.search});var t}},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",{className:v()({person__male:"m"===e.sex,person__female:"f"===e.sex})},e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",null,e.age),r.a.createElement("td",{className:"person__male"},e.father),r.a.createElement("td",{className:"person__female"},e.mother),r.a.createElement("td",null,e.century))})))},_=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(s.g)(),o=Object(s.h)(),u=new URLSearchParams(o.search),i=Object(n.useState)(""),f=Object(m.a)(i,2),h=f[0],d=f[1],b=Object(n.useMemo)((function(){return u.get("sortBy")||""}),[u]),g=Object(n.useMemo)((function(){return u.get("sortOrder")||""}),[u]),v=Object(n.useMemo)((function(){return u.get("query")||""}),[u]);Object(n.useEffect)((function(){E().then((function(e){c(e)}))}),[]);var _=Object(n.useMemo)((function(){return a.filter((function(e){return(e.name+e.father+e.mother).toLowerCase().includes(v.toLowerCase())}))}),[a,v]);Object(n.useMemo)((function(){switch(g){case"asc":switch(b){case"id":case"born":case"died":case"age":case"century":_.sort((function(e,t){return e[b]-t[b]}));break;case"name":case"sex":case"father":case"mother":_.sort((function(e,t){return e[b].localeCompare(t[b])}))}break;case"desc":switch(b){case"id":case"born":case"died":case"age":case"century":_.sort((function(e,t){return t[b]-e[b]}));break;case"name":case"sex":case"father":case"mother":_.sort((function(e,t){return t[b].localeCompare(e[b])}))}}}),[_,g,b]),Object(n.useEffect)((function(){d(v)}),[v]);var j=Object(n.useCallback)(p()((function(e){e?u.set("query",e):u.delete("query"),l.push({search:u.toString()})}),500),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"input",value:h,placeholder:"whom you search",onChange:function(e){var t=e.target;d(t.value),j(t.value)}}),r.a.createElement("table",{className:"Table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["id","name","sex","born","died","age","father","mother","century"].map((function(e){return r.a.createElement("th",{key:e,onClick:function(){return function(e){b===e&&"asc"===g?u.set("sortOrder","desc"):u.set("sortOrder","asc"),u.set("sortBy",e),l.push({search:u.toString()})}(e)}},e===b&&r.a.createElement("span",null,"*"),e)})))),r.a.createElement("tbody",null,r.a.createElement(O,{people:_}))))},j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"People page"),r.a.createElement(_,null))},y=(a(44),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",exact:!0,className:"nav__link",activeClassName:"nav__link--active"},"HomePage")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people",className:"nav__link",activeClassName:"nav__link--active"},"PeoplePage")))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:u}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,{exact:!0,path:"/people/:personSlug?",component:j}),r.a.createElement(s.b,{component:function(){return r.a.createElement("h1",null,"Sorry,page not found")}})))});l.a.render(r.a.createElement(o.a,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.24cbbb31.chunk.js.map